var FormWizard=function(){return{init:function(){if(!jQuery().bootstrapWizard){return}function d(g){if(!g.id){return g.text}return"<img class='flag' src='assets/img/flags/"+g.id.toLowerCase()+".png'/>&nbsp;&nbsp;"+g.text}$("#country_list").select2({placeholder:"Select",allowClear:true,formatResult:d,formatSelection:d,escapeMarkup:function(g){return g}});var c=$("#submit_form");var a=$(".alert-danger",c);var f=$(".alert-success",c);c.validate({doNotHideMessage:true,errorElement:"span",errorClass:"help-block",focusInvalid:false,rules:{username:{minlength:5,required:true},password:{minlength:5,required:true},rpassword:{minlength:5,required:true,equalTo:"#submit_form_password"},fullname:{required:true},email:{required:true,email:true},phone:{required:true},gender:{required:true},address:{required:true},city:{required:true},country:{required:true},card_name:{required:true},card_number:{minlength:16,maxlength:16,required:true},card_cvc:{digits:true,required:true,minlength:3,maxlength:4},card_expiry_date:{required:true},"payment[]":{required:true,minlength:1}},messages:{"payment[]":{required:"Please select at least one option",minlength:jQuery.format("Please select at least one option")}},errorPlacement:function(g,h){if(h.attr("name")=="gender"){g.insertAfter("#form_gender_error")}else{if(h.attr("name")=="payment[]"){g.insertAfter("#form_payment_error")}else{g.insertAfter(h)}}},invalidHandler:function(h,g){f.hide();a.show();App.scrollTo(a,-200)},highlight:function(g){$(g).closest(".form-group").removeClass("has-success").addClass("has-error")},unhighlight:function(g){$(g).closest(".form-group").removeClass("has-error")},success:function(g){if(g.attr("for")=="gender"||g.attr("for")=="payment[]"){g.closest(".form-group").removeClass("has-error").addClass("has-success");g.remove()}else{g.addClass("valid").closest(".form-group").removeClass("has-error").addClass("has-success")}},submitHandler:function(g){f.show();a.hide()}});var e=function(){$("#tab4 .form-control-static",c).each(function(){var h=$('[name="'+$(this).attr("data-display")+'"]',c);if(h.is(":text")||h.is("textarea")){$(this).html(h.val())}else{if(h.is("select")){$(this).html(h.find("option:selected").text())}else{if(h.is(":radio")&&h.is(":checked")){$(this).html(h.attr("data-title"))}else{if($(this).attr("data-display")=="payment"){var g=[];$('[name="payment[]"]').each(function(){g.push($(this).attr("data-title"))});$(this).html(g.join("<br>"))}}}}})};var b=function(k,g,h){var l=g.find("li").length;var m=h+1;$(".step-title",$("#form_wizard_1")).text("Step "+(h+1)+" of "+l);jQuery("li",$("#form_wizard_1")).removeClass("done");var n=g.find("li");for(var j=0;j<h;j++){jQuery(n[j]).addClass("done")}if(m==1){$("#form_wizard_1").find(".button-previous").hide()}else{$("#form_wizard_1").find(".button-previous").show()}if(m>=l){$("#form_wizard_1").find(".button-next").hide();$("#form_wizard_1").find(".button-submit").show();e()}else{$("#form_wizard_1").find(".button-next").show();$("#form_wizard_1").find(".button-submit").hide()}App.scrollTo($(".page-title"))};$("#form_wizard_1").bootstrapWizard({nextSelector:".button-next",previousSelector:".button-previous",onTabClick:function(i,g,h,j){f.hide();a.hide();if(c.valid()==false){return false}b(i,g,j)},onNext:function(i,g,h){f.hide();a.hide();if(c.valid()==false){return false}b(i,g,h)},onPrevious:function(i,g,h){f.hide();a.hide();b(i,g,h)},onTabShow:function(j,g,i){var k=g.find("li").length;var l=i+1;var h=(l/k)*100;$("#form_wizard_1").find(".progress-bar").css({width:h+"%"})}});$("#form_wizard_1").find(".button-previous").hide();$("#form_wizard_1 .button-submit").click(function(){alert("Finished! Hope you like it :)")}).hide()}}}();